@model CourseDetailsServiceModel

@{
    int lineIndex = 1;
}

<header class="lightblue-header">
    <h1>
        Добре дошли в @Model.Name
    </h1>

    <img class="course-image" src="/assets//images/courses/@Model.ImageUrl" />

    <h2>
        @Model.Description
    </h2>

    <video controls>
        <source src="~/assets/resources/videoplayback.mp4" type="video/mp4">
    </video>


    @if (Model.Tutorials.Count() == 0)
    {
        <h2 class="text-white">Очаквайте скоро ресурсите за този курс.</h2>
    }

    @if (User.IsInRole(AdminRole))
    {
        <a asp-area="Admin" asp-controller="Tutorials" asp-action="CreateTutorial"
       asp-route-courseId="@Model.Id" class="btn btn-lg btn-success text-decoration-none text-white">
            Добави урок
        </a>
    }

</header>

<div class="courses-info-container">
    <h1>Виж какво ще научиш тук!</h1>
    <table class="items-table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Име на урок</th>
                <th scope="col">Детайли</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var tutorial in @Model.Tutorials)
            {
                <tr>
                    <td>@lineIndex</td>
                    <td>@tutorial.Title</td>
                    <td class="content-align-center">
                        @if (User.IsInRole(AdminRole))
                        {

                            <button class="btn-edit">
                                <a asp-area="Admin" asp-controller="Tutorials" asp-action="EditTutorial" asp-route-id="@tutorial.Id" asp-route-courseId="@Model.Id">Редактирай</a>
                            </button>
                            <button class="btn-delete">
                                <a asp-area="Admin" asp-controller="Tutorials" asp-action="DeleteTutorial" asp-route-id="@tutorial.Id" asp-route-courseId="@Model.Id">Изтрий</a>
                            </button>

                        }
                        <a asp-controller="Tutorials" asp-action="Details"
                       asp-route-tutorialId="@tutorial.Id" class="btn-details">
                            Детайли
                        </a>
                    </td>
                </tr>

                lineIndex++;
            }

        </tbody>
    </table>

</div>

